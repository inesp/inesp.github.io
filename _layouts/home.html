---
layout: default
---

{%- assign featured_topics = "Engineering Research,People,Code Patterns" | split: "," -%}
{%- assign latest_posts = site.posts | slice: 0, 4 -%}
{%- assign latest_urls = latest_posts | map: "url" -%}

{%- assign filtered_posts = "" | split: "" -%}
{%- for post in site.posts -%}
  {%- unless latest_urls contains post.url -%}
    {%- assign filtered_posts = filtered_posts | push: post -%}
  {%- endunless -%}
{%- endfor -%}


<div class="separator-space home">

  <section class="home-intro">
    <p class="intro-text">
      Notes from my years of building software.
    </p>
  </section>

  <!-- Latest -->
  <h2 class="home-section-title">Recent writings</h2>
  <section class="topic-block">
    {%- include posts_section.html posts=latest_posts teaser_length=30 show_archive_link=true -%}
  </section>

  <h2 class="home-section-title">Explore by topic</h2>

  <!-- Topics -->
  {%- for tag in featured_topics -%}
    {%- assign posts = filtered_posts | where_exp: "p", "p.tags contains tag" -%}
    {%- assign tag_slug = tag | slugify -%}
    {%- assign topic_info = site.data.topics[tag] -%}

    {%- if posts.size > 0 -%}
      <section class="topic-block">
        <h3 class="topic-title">{{ tag }}</h3>
        <p class="topic-intro">{{ topic_info.home_intro }}</p>

        <ul class="list-unstyled">
          {%- for post in posts limit:3 -%}
            <li class="post-item">
              <div class="post-header">
                <h3 class="post-title">
                  <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                </h3>
                <span class="post-date text-muted">{{ post.date | date: "%b %-d, %Y" }}</span>
              </div>

              {%- if post.excerpt -%}
                <p class="post-teaser">{{ post.excerpt | strip_html | truncatewords: 20 }}</p>
              {%- endif -%}
            </li>
          {%- endfor -%}
        </ul>
        <p class="topic-more">
          <a href="/topic/{{ tag_slug }}/">More posts on this topic</a>
        </p>
      </section>
    {%- endif -%}
  {%- endfor -%}

  <!-- Other Topics -->
  <section class="other-topics">
    <h4>All Topics</h4>
    <div class="flex-row topic-list">
      {%- assign all_topics = site.tags | sort -%}
      {%- for t in all_topics -%}
        <span><a href="/topic/{{ t[0] | slugify }}/">{{ t[0] | replace: "-", " " | capitalize }}</a></span>
      {%- endfor -%}
    </div>
  </section>
</div>
